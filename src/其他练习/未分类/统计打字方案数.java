package 其他练习.未分类;

public class 统计打字方案数 {
    static int mod=(int) 1e9+7;
    static long[] p=new long[(int) (1e5+1)];
    static long[] t=new long[(int)1e5+1];
    static{
        p[0]=1;p[1]=1;p[2]=2;p[3]=4;
        t[0]=1;t[1]=1;t[2]=2;t[3]=4;
        for (int i=4;i<1e5+1;i++){
            p[i]=(p[i-1]+p[i-2]+p[i-3])%mod;
            t[i]=(t[i-1]+t[i-2]+t[i-3]+t[i-4])%mod;
        }
    }
    public int countTexts(String pressedKeys) {
        int count=1;
        char[] chars = pressedKeys.toCharArray();
        long r=1;
        for (int i=1;i<chars.length;i++){
            if (chars[i]==chars[i-1]){
                count++;
            }else {
                if (chars[i-1]=='7' || chars[i-1]=='9'){
                    r=r*t[count]%mod;
                }else {
                    r=r*p[count]%mod;
                }
                count=1;
            }
        }
        if (chars[chars.length-1]=='7' || chars[chars.length-1]=='9'){
            r=r*t[count]%mod;
        }else {
            r=r*p[count]%mod;
        }
        return (int)r;
    }

    public static void main(String[] args) {
        System.out.println(new 统计打字方案数().countTexts("88888888888888888888888888888999999999999999999999999999994444444444444444444444444444488888888888888888888888888888555555555555555555555555555556666666666666666666666666666666666666666666666666666666666222222222222222222222222222226666666666666666666666666666699999999999999999999999999999888888888888888888888888888885555555555555555555555555555577777777777777777777777777777444444444444444444444444444444444444444444444444444444444433333333333333333333333333333555555555555555555555555555556666666666666666666666666666644444444444444444444444444444999999999999999999999999999996666666666666666666666666666655555555555555555555555555555444444444444444444444444444448888888888888888888888888888855555555555555555555555555555555555555555555555555555555555555555555555555555555555999999999999999555555555555555555555555555554444444444444444444444444444444555"));
    }
}
